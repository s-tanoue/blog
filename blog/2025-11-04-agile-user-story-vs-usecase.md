---
slug: agile-user-story-vs-usecase
title: アジャイルのユーザーストーリーとユースケースの違い
authors:
  name: Agile Writer
  title: プロダクトマネージャー
  url: https://example.com/authors/agile-writer
  image_url: https://avatars.githubusercontent.com/u/2?v=4
---

ソフトウェア開発において、要求を整理する手法として「ユーザーストーリー」と「ユースケース」があります。どちらもユーザーのニーズを表現する手法ですが、その目的、形式、使い方は大きく異なります。本記事では、両者の違いを明確にし、どのような場面で使い分けるべきかを解説します。

<!--truncate-->

## ユースケースとは

ユースケースは、1990年代にIvar Jacobsonによって提唱された要求分析の手法で、システムとユーザー（アクター）の相互作用を詳細に記述したものです。ウォーターフォール開発や従来のソフトウェアエンジニアリングで広く使われてきました。

### ユースケースの特徴

ユースケースは、システムが提供する機能を「アクター」（システムを使う人や外部システム）の視点から、**詳細かつ網羅的に**記述します。

**基本構造:**
- **ユースケース名**: 機能の名称（例: 商品を購入する）
- **アクター**: システムを使う人や外部システム（例: 顧客、管理者、決済システム）
- **事前条件**: ユースケースが実行される前に満たすべき状態
- **事後条件**: ユースケースが完了した後のシステムの状態
- **基本フロー**: 正常系の処理手順を詳細に記述
- **代替フロー**: エラーや例外が発生した場合の処理
- **例外フロー**: 失敗した場合の処理

### ユースケースの例

```
ユースケース名: 商品を購入する

アクター:
- 主アクター: 顧客
- 副アクター: 決済システム、在庫管理システム

事前条件:
- 顧客がログインしている
- カートに1つ以上の商品が入っている
- 選択した商品の在庫がある

基本フロー:
1. 顧客がカート画面で「購入手続きに進む」ボタンをクリックする
2. システムは配送先入力画面を表示する
3. 顧客が配送先住所を入力する
4. システムは入力された住所の妥当性を検証する
5. システムは支払い方法選択画面を表示する
6. 顧客がクレジットカードを選択する
7. 顧客がクレジットカード情報を入力する
8. システムは決済システムに決済リクエストを送信する
9. 決済システムが決済を承認する
10. システムは在庫管理システムに在庫引き当てリクエストを送信する
11. 在庫管理システムが在庫を引き当てる
12. システムは注文確定画面を表示する
13. システムは注文確認メールを顧客に送信する

代替フロー:
4a. 住所が不正な場合
  4a1. システムはエラーメッセージを表示する
  4a2. 基本フロー3に戻る

9a. 決済が拒否された場合
  9a1. システムはエラーメッセージを表示する
  9a2. 顧客に別の支払い方法を選択するよう促す
  9a3. 基本フロー5に戻る

11a. 在庫が不足している場合
  11a1. システムは在庫不足メッセージを表示する
  11a2. 顧客にカートから商品を削除するよう促す
  11a3. 購入処理を中断する

事後条件:
- 注文がデータベースに記録される
- 在庫が減少する
- 顧客に注文確認メールが送信される
- 決済が完了する
```

### ユースケース図

ユースケースは、UML（統一モデリング言語）のユースケース図で視覚化されることも多く、システムの機能全体を俯瞰的に理解するのに役立ちます。

```
[顧客] --- (商品を検索する)
[顧客] --- (商品をカートに追加する)
[顧客] --- (商品を購入する)
[顧客] --- (注文履歴を確認する)
[管理者] --- (在庫を管理する)
[管理者] --- (注文を管理する)
```

## ユーザーストーリーとは

ユーザーストーリーは、2000年代初頭にエクストリームプログラミング（XP）で生まれ、アジャイル開発で広く使われるようになった要求表現の手法です。詳細な仕様書ではなく、**会話のきっかけ**となることを重視しています。

### ユーザーストーリーの特徴

ユーザーストーリーは、ユーザーの視点から「誰が」「何を」「なぜ」必要としているのかを**簡潔に**表現します。

**基本形式:**
```
[ユーザータイプ]として、
[目的]のために、
[機能]が欲しい
```

**例:**
```
ECサイトの顧客として、
商品を購入したいので、
カートから決済手続きができる機能が欲しい
```

### ユーザーストーリーの構成要素

ユーザーストーリーは「3つのC」で構成されます:

1. **Card（カード）**: 簡潔な説明を書いた付箋やカード
2. **Conversation（会話）**: 詳細は会話を通じて明確化する
3. **Confirmation（確認）**: 受け入れ基準で完成を定義する

### ユーザーストーリーの例

```
ユーザーストーリー:
ECサイトの顧客として、
商品を購入したいので、
カートから決済手続きができる機能が欲しい

受け入れ基準:
- カート画面に「購入手続きに進む」ボタンが表示される
- ボタンをクリックすると配送先入力画面に遷移する
- 配送先を入力して次に進める
- 支払い方法を選択できる
- クレジットカード情報を入力できる
- 決済が完了すると注文確定画面が表示される
- 注文確認メールが送信される
- 決済エラー時は適切なメッセージが表示される
```

## ユーザーストーリーとユースケースの違い

両者の主な違いを表で比較します:

| 観点 | ユーザーストーリー | ユースケース |
|------|------------------|------------|
| **起源** | アジャイル開発（XP、スクラム） | オブジェクト指向開発（UML） |
| **目的** | 会話のきっかけ、価値の明確化 | システム機能の詳細な仕様定義 |
| **詳細度** | 簡潔（数行） | 詳細（数ページ） |
| **記述方法** | 自然言語、箇条書き | 構造化された文書形式 |
| **視点** | ユーザーの価値に焦点 | システムとの相互作用に焦点 |
| **作成タイミング** | 継続的に追加・更新 | 要求分析フェーズで作成 |
| **作成者** | プロダクトオーナー | ビジネスアナリスト、システムアナリスト |
| **詳細化のタイミング** | 実装直前に会話で明確化 | 作成時に詳細まで記述 |
| **変更のしやすさ** | 柔軟に変更可能 | 変更には手間がかかる |
| **テスト** | 受け入れ基準でテスト | 基本フロー・代替フロー全体をテスト |
| **粒度** | 小さい（数日で実装可能） | 大きい（機能全体をカバー） |
| **優先順位付け** | ビジネス価値で順位付け | 機能依存関係で順序付け |
| **ドキュメント** | 最小限（カード+受け入れ基準） | 詳細なドキュメント |
| **適用場面** | 不確実性が高い、変化が速い | 要求が明確、変更が少ない |

### 1. 詳細度と粒度

**ユースケース**は、1つの機能について、正常系から異常系まですべての処理フローを詳細に記述します。そのため、1つのユースケースが数ページに及ぶこともあります。

**ユーザーストーリー**は、ユーザーの1つの行動や価値を簡潔に表現します。1つのユースケースは、複数のユーザーストーリーに分割されます。

**例:**

ユースケース「商品を購入する」は、以下のような複数のユーザーストーリーに分割できます:

1. 「顧客として、配送先住所を登録したいので、住所入力フォームが欲しい」
2. 「顧客として、複数の配送先を管理したいので、配送先一覧から選択できる機能が欲しい」
3. 「顧客として、安全に決済したいので、クレジットカード情報を入力できる機能が欲しい」
4. 「顧客として、注文内容を確認したいので、注文確認画面で内容を確認できる機能が欲しい」
5. 「顧客として、注文の証拠が欲しいので、注文確認メールを受け取りたい」

### 2. 作成と詳細化のタイミング

**ユースケース**は、要求分析フェーズで詳細まで作り込み、その後の設計・実装フェーズで参照されます。ウォーターフォール型開発では、すべてのユースケースを事前に完成させてから実装に進みます。

**ユーザーストーリー**は、最初は簡潔な説明のみを書き、実装が近づいたタイミングで会話を通じて詳細を明確化します。これにより、変化に柔軟に対応できます。

### 3. 会話と文書化

**ユースケース**は、完全な文書として独立しており、読めばシステムの振る舞いが理解できることを目指します。会話がなくても仕様が伝わるように書かれます。

**ユーザーストーリー**は、会話のきっかけとして機能します。カードに書かれた内容は最小限で、詳細は開発チームとプロダクトオーナーの対話を通じて明確化されます。「対面での会話を重視する」のがアジャイルの価値観です。

### 4. テストの観点

**ユースケース**は、基本フロー、代替フロー、例外フローすべてをテストケースに変換します。包括的なテストが求められます。

**ユーザーストーリー**は、受け入れ基準（Acceptance Criteria）に基づいてテストします。受け入れ基準は、ストーリーが「完成した」と判断するための最小限の条件です。

### 5. 変化への対応

**ユースケース**は、詳細に作り込まれているため、要求が変わると文書の修正に時間がかかります。そのため、要求が安定している場合に向いています。

**ユーザーストーリー**は、簡潔なため変更が容易です。優先順位の入れ替えや、ストーリーの追加・削除が柔軟にできます。変化が激しいプロジェクトに適しています。

## それぞれの使い分け

### ユースケースが適している場面

1. **要求が明確で安定している**
   - 規制対応や基幹系システムなど、要求が明確で変更が少ない場合

2. **契約上、詳細な仕様書が必要**
   - 発注者と受注者が異なる契約開発で、詳細な仕様書が求められる場合

3. **複雑な業務フローを網羅的に把握したい**
   - 既存システムのリプレイスで、現行の業務フローをすべて把握する必要がある場合

4. **システム全体の機能を俯瞰したい**
   - ユースケース図を使って、システムが提供する機能全体を可視化したい場合

5. **認証・認可などの共通処理を明確にしたい**
   - 複数の機能で共通する処理（例: ログイン、権限チェック）を「include」「extend」で表現する場合

### ユーザーストーリーが適している場面

1. **不確実性が高く、要求が変化しやすい**
   - 新規プロダクト開発やスタートアップで、ユーザーのニーズを探りながら開発する場合

2. **小さく始めて、素早くフィードバックを得たい**
   - MVP（最小実行可能製品）を作って市場の反応を見ながら改善したい場合

3. **アジャイル開発を実践している**
   - スクラムやXPなど、イテレーティブな開発手法を採用している場合

4. **チーム内での対話を重視する**
   - プロダクトオーナーと開発チームが密接に連携し、会話を通じて要求を明確化したい場合

5. **ビジネス価値に基づいて優先順位を付けたい**
   - 限られた時間で最大の価値を届けるため、価値の高い順に開発したい場合

## 併用する方法

実際のプロジェクトでは、両者を併用することもあります。

### パターン1: ユースケースから始めてユーザーストーリーに分割

大規模な機能要求をまずユースケースとして整理し、それを実装可能なサイズのユーザーストーリーに分割する方法です。

1. **エピックレベルでユースケースを作成**: 大まかな機能をユースケースとして整理
2. **ユーザーストーリーに分割**: ユースケースを実装可能な小さなストーリーに分ける
3. **スプリント単位で実装**: ストーリーごとに優先順位を付けて開発

**例:**

ユースケース「商品を購入する」を以下のユーザーストーリーに分割:

- MVP（最小実行可能製品）:
  - 「配送先を入力できる」
  - 「クレジットカードで決済できる」
  - 「注文確認メールを受け取れる」

- 機能拡張:
  - 「複数の配送先を管理できる」
  - 「クーポンを適用できる」
  - 「ポイントで支払える」

### パターン2: ユーザーストーリーマップでユースケースを可視化

ユーザーストーリーマッピングを使い、ユーザーの時系列の行動を並べることで、ユースケース的な全体像を把握しながらストーリーを管理します。

```
[商品を探す] → [商品を選ぶ] → [購入する] → [受け取る]
     ↓              ↓            ↓           ↓
  検索する      詳細を見る    住所入力    配送状況確認
  絞り込む      比較する      決済        受取評価
  お気に入り    レビュー      クーポン
```

横軸に時系列、縦軸に優先順位を配置することで、全体の流れを維持しながらストーリー単位で開発できます。

### パターン3: コアロジックはユースケース、UIはユーザーストーリー

基幹ロジック（例: 決済処理、在庫管理）のような複雑で変更が少ない部分はユースケースで詳細化し、UI/UX改善のような変化が多い部分はユーザーストーリーで管理します。

## 具体例で比較する

同じ「パスワードリセット」機能を、ユースケースとユーザーストーリーで表現した例を見てみましょう。

### ユースケースで表現

```
ユースケース名: パスワードをリセットする

アクター:
- 主アクター: ユーザー
- 副アクター: メール送信システム

事前条件:
- ユーザーがアカウントを持っている
- ユーザーが登録したメールアドレスが有効

基本フロー:
1. ユーザーがログイン画面で「パスワードを忘れた方」リンクをクリックする
2. システムはパスワードリセット画面を表示する
3. ユーザーがメールアドレスを入力する
4. ユーザーが「送信」ボタンをクリックする
5. システムは入力されたメールアドレスが登録されているか確認する
6. システムは一意なリセットトークンを生成する
7. システムはトークンの有効期限（1時間）を設定する
8. システムはトークンをデータベースに保存する
9. システムはリセットリンクを含むメールを送信する
10. システムは「メールを送信しました」メッセージを表示する
11. ユーザーがメール内のリセットリンクをクリックする
12. システムはトークンの有効性を検証する
13. システムは新しいパスワード入力画面を表示する
14. ユーザーが新しいパスワードを2回入力する
15. システムはパスワードの強度を検証する
16. システムはパスワードをハッシュ化して保存する
17. システムはトークンを無効化する
18. システムは「パスワードが変更されました」メッセージを表示する
19. システムはログイン画面にリダイレクトする

代替フロー:
5a. メールアドレスが登録されていない場合
  5a1. システムはセキュリティのため同じ成功メッセージを表示する
  5a2. 実際にはメールを送信しない
  5a3. ユースケース終了

12a. トークンが無効または期限切れの場合
  12a1. システムは「リンクが無効または期限切れです」メッセージを表示する
  12a2. システムは再度リセット申請を促す
  12a3. ユースケース終了

15a. パスワードが弱い場合
  15a1. システムは「パスワードは8文字以上で、英大文字、小文字、数字を含む必要があります」と表示する
  15a2. 基本フロー14に戻る

15b. 2つのパスワードが一致しない場合
  15b1. システムは「パスワードが一致しません」と表示する
  15b2. 基本フロー14に戻る

例外フロー:
9a. メール送信が失敗した場合
  9a1. システムはエラーログに記録する
  9a2. システムは「エラーが発生しました。しばらくしてから再度お試しください」と表示する
  9a3. ユースケース終了

事後条件:
- ユーザーのパスワードが更新される
- 古いリセットトークンが無効化される
- パスワード変更がログに記録される
```

### ユーザーストーリーで表現

同じ機能を複数のユーザーストーリーに分割:

**ストーリー1: パスワードリセットのリクエスト**
```
ユーザーストーリー:
ログインできないユーザーとして、
パスワードを再設定したいので、
メールアドレスを入力してリセットリンクを受け取れる機能が欲しい

受け入れ基準:
- ログイン画面に「パスワードを忘れた方」リンクがある
- リンクをクリックするとメールアドレス入力画面が表示される
- メールアドレスを入力して送信できる
- 登録済みのアドレスにはリセットリンクが送信される
- 未登録のアドレスでもセキュリティのため同じメッセージが表示される
- 「メールを送信しました」メッセージが表示される
```

**ストーリー2: パスワードの再設定**
```
ユーザーストーリー:
リセットリンクを受け取ったユーザーとして、
新しいパスワードを設定したいので、
リンクから新しいパスワードを登録できる機能が欲しい

受け入れ基準:
- メール内のリンクをクリックするとパスワード入力画面が開く
- 新しいパスワードを2回入力できる
- パスワードは8文字以上、英大文字・小文字・数字を含む必要がある
- パスワードが弱い場合はエラーメッセージが表示される
- 2つのパスワードが一致しない場合はエラーメッセージが表示される
- 送信すると「パスワードが変更されました」メッセージが表示される
- ログイン画面にリダイレクトされる
```

**ストーリー3: リセットリンクの有効期限**
```
ユーザーストーリー:
セキュリティを重視する管理者として、
不正なパスワードリセットを防ぎたいので、
リセットリンクに1時間の有効期限を設けたい

受け入れ基準:
- リセットリンクは生成から1時間で無効になる
- 期限切れのリンクをクリックすると「リンクが期限切れです」と表示される
- 再度リセット申請を促すメッセージが表示される
- パスワード変更後、同じリンクは使えなくなる
```

### 比較

| 観点 | ユースケース | ユーザーストーリー |
|------|------------|-----------------|
| **分量** | 1つの文書で全体をカバー | 3つのストーリーに分割 |
| **詳細度** | すべてのフローを詳細に記述 | 主要な条件のみ記述 |
| **実装順序** | すべてを一度に実装する前提 | 優先順位を付けて段階的に実装可能 |
| **変更対応** | 文書全体を修正 | 該当するストーリーのみ修正 |
| **会話の必要性** | 文書を読めば理解できる | 会話で詳細を明確化する |

ユースケースは網羅的ですが、変更が大変です。ユーザーストーリーは柔軟で、最初に「リクエスト機能」だけをリリースし、その後「有効期限」を追加するといった段階的な開発が可能です。

## まとめ

ユーザーストーリーとユースケースは、どちらもユーザーのニーズをシステムに落とし込むための手法ですが、その哲学と使い方は大きく異なります。

**ユースケース**は:
- **詳細で網羅的**な仕様書として機能
- **要求が明確で安定している**プロジェクトに向く
- **契約開発や規制対応**など、詳細な文書化が必要な場面で有効
- ウォーターフォール型開発と相性が良い

**ユーザーストーリー**は:
- **会話のきっかけ**として簡潔に書く
- **不確実性が高く、変化が激しい**プロジェクトに向く
- **価値の優先順位付け**と段階的なリリースがしやすい
- アジャイル開発と相性が良い

どちらが優れているかではなく、プロジェクトの性質、チームの働き方、ステークホルダーの期待値に応じて使い分けることが重要です。

また、両者を組み合わせることも有効です。ユースケースで全体像を把握しつつ、実装時にはユーザーストーリーに分割して柔軟に進める、というハイブリッドアプローチも検討してみましょう。

大切なのは、「どちらを使うか」ではなく、「チームとステークホルダーが同じゴールに向かって価値を届けられるか」です。あなたのプロジェクトに最適な手法を選び、チームで継続的に改善していきましょう。
